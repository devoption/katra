@import 'tailwindcss';

@source '../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php';
@source '../../storage/framework/views/*.php';
@source '../**/*.blade.php';
@source '../**/*.js';

@variant dark (.dark &);

@theme {
    /* Fonts */
    --font-sans: 'Inter', ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',
        'Segoe UI Symbol', 'Noto Color Emoji';

    /* Nord Color Palette */
    /* Polar Night - Dark */
    --color-nord0: #2E3440;
    --color-nord1: #3B4252;
    --color-nord2: #434C5E;
    --color-nord3: #4C566A;

    /* Snow Storm - Light */
    --color-nord4: #D8DEE9;
    --color-nord5: #E5E9F0;
    --color-nord6: #ECEFF4;

    /* Frost - Blue/Cyan */
    --color-nord7: #8FBCBB;
    --color-nord8: #88C0D0;
    --color-nord9: #81A1C1;
    --color-nord10: #5E81AC;

    /* Aurora - Accent Colors */
    --color-nord11: #BF616A; /* Red */
    --color-nord12: #D08770; /* Orange */
    --color-nord13: #EBCB8B; /* Yellow */
    --color-nord14: #A3BE8C; /* Green */
    --color-nord15: #B48EAD; /* Purple */

    --color-primary: var(--color-nord15);
}

/* Brand primary color (Katra) */
:root {
    --color-primary: var(--color-nord15);
    /* Slightly darker shade for hover/focus states */
    --color-primary-hover: #A27AA0;
}

[x-cloak] { display: none !important; }

/* Smooth page transitions - disabled to prevent conflicts with Livewire navigation */

/* Smooth navigation transitions */
.nav-item {
    transition: all 0.2s ease-in-out;
}

.nav-item:hover {
    transform: translateX(2px);
}

/* Primary utility helpers */
.bg-primary { background-color: var(--color-primary); }
.hover\:bg-primary-hover:hover { background-color: var(--color-primary-hover); }
.text-primary { color: var(--color-primary); }
.border-primary { border-color: var(--color-primary); }

/* Button - primary (ensures good contrast in both themes) */
.btn-primary {
    background-color: var(--color-primary);
    color: #ffffff; /* Chosen for sufficient contrast against nord15 */
}
.btn-primary:hover { background-color: var(--color-primary-hover); }
.btn-primary:disabled { opacity: .5; cursor: not-allowed; }

/* Rings & focus */
.focus\:ring-primary:focus { outline: 2px solid var(--color-primary); outline-offset: 2px; }
.ring-primary { box-shadow: 0 0 0 2px var(--color-primary); }
.hover\:text-primary:hover { color: var(--color-primary); }

/* Custom scrollbar for dark theme */
.dark ::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

.dark ::-webkit-scrollbar-track {
    background: var(--color-nord0);
}

.dark ::-webkit-scrollbar-thumb {
    background: var(--color-nord3);
    border-radius: 5px;
}

.dark ::-webkit-scrollbar-thumb:hover {
    background: var(--color-primary);
}

/* Light theme scrollbar */
::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

::-webkit-scrollbar-track {
    background: var(--color-nord5);
}

::-webkit-scrollbar-thumb {
    background: var(--color-nord4);
    border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--color-primary);
}

/* Markdown Content Styling for Chat */
.markdown-content {
    @apply text-sm leading-relaxed;
}

.markdown-content h1,
.markdown-content h2,
.markdown-content h3,
.markdown-content h4,
.markdown-content h5,
.markdown-content h6 {
    @apply font-semibold mb-2 mt-4 first:mt-0;
}

.markdown-content h1 { @apply text-xl; }
.markdown-content h2 { @apply text-lg; }
.markdown-content h3 { @apply text-base; }

.markdown-content p {
    @apply mb-3 last:mb-0;
}

.markdown-content ul,
.markdown-content ol {
    @apply mb-3 pl-6;
}

.markdown-content ul {
    @apply list-disc;
}

.markdown-content ol {
    @apply list-decimal;
}

.markdown-content li {
    @apply mb-1;
}

.markdown-content code {
    @apply px-1.5 py-0.5 rounded text-xs font-mono;
    background-color: rgba(0, 0, 0, 0.1);
}

.dark .markdown-content code {
    background-color: rgba(255, 255, 255, 0.1);
}

.markdown-content pre {
    @apply mb-3 p-3 rounded-lg overflow-x-auto;
    background-color: var(--color-nord0);
}

.dark .markdown-content pre {
    background-color: var(--color-nord3);
}

.markdown-content pre code {
    @apply p-0 bg-transparent text-nord6;
}

.markdown-content blockquote {
    @apply border-l-4 border-primary pl-4 italic mb-3;
}

.markdown-content a {
    @apply text-primary hover:underline;
}

.markdown-content table {
    @apply w-full mb-3 border-collapse;
}

.markdown-content th,
.markdown-content td {
    @apply border border-nord4 dark:border-nord3 px-3 py-2 text-left;
}

.markdown-content th {
    @apply bg-nord4 dark:bg-nord2 font-semibold;
}

.markdown-content strong {
    @apply font-semibold;
}

.markdown-content em {
    @apply italic;
}

.markdown-content hr {
    @apply my-4 border-nord4 dark:border-nord3;
}
